(this["webpackJsonpanat-graph"]=this["webpackJsonpanat-graph"]||[]).push([[0],{206:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(1),i=n.n(r),c=n(19),l=n.n(c),s=(n(206),n(29)),o=n(33),d=n(48),u=n(366),j=n(378),b=n(370),h=n(382),f=n(371),x=n(372),O=n(376),p=n(375),m=n(373),g=n(374),v=n(192),y=n.n(v),T=(n(207),n(381)),k=n(386),C=n(383),E=n(385),L=n(384),S=n(377),w=n(387),I=n(389),A=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],F=function(e){var t=e.data,n=e.width,r=void 0===n?600:n,i=e.height,c=void 0===i?400:i,l=e.title,s=void 0===l?"graph":l,o=e.textColor,d=void 0===o?"black":o,u=e.yLabel,j=void 0===u?"Fluorescence":u,b=e.xLabel,h=void 0===b?"Time [Hours]":b;return Object(a.jsx)("div",{children:Object(a.jsxs)(T.a,{width:r,height:c,standalone:!0,crossAxis:!1,theme:k.a.material,scale:{x:"linear"},title:s,padding:{top:50,right:30,bottom:60,left:80},containerComponent:Object(a.jsx)(C.a,{}),children:[Object(a.jsx)(E.a,{x:25,y:24,text:s,style:{fill:d,fontFamily:"inherit",fontSize:"16px",fontWeight:"bold"}}),Object(a.jsx)(L.a,{x:80,y:50,orientation:"vertical",gutter:20,style:{border:{stroke:d},title:{fontSize:20},labels:{fill:d}},data:t.map((function(e,t){return{name:e.name,symbol:{fill:e.color?e.color:A[t%A.length]}}})),itemsPerRow:5}),t.map((function(e,t){return Object(a.jsx)(S.a,{data:e.data,style:{data:{stroke:e.color?e.color:A[t%A.length]}}},e.name)})),t.map((function(e,t){return Object(a.jsx)(w.a,{data:e.data,style:{data:{stroke:e.color?e.color:A[t%A.length]}}},e.name)})),Object(a.jsx)(I.a,{theme:k.a.material,label:h,crossAxis:!1,tickValues:[0,5,10,15,20,25,30,35,40],style:{axis:{stroke:d},grid:{stroke:"gray"},axisLabel:{padding:30,fill:d},tickLabels:{fill:d}}}),Object(a.jsx)(I.a,{dependentAxis:!0,crossAxis:!1,label:j,theme:k.a.material,style:{axis:{stroke:d},grid:{stroke:"gray"},axisLabel:{padding:60,fill:d},tickLabels:{fill:d}}})]})})},z="SET_RESULT_TEXT",B="SET_DATA",D="REMOVE_LINE",N="SET_STATE",P=function(e,t){switch(t.type){case N:return t.state;case z:return Object(d.a)(Object(d.a)({},e),{},{resultText:t.resultText});case B:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case"ADD_LINE":return Object(d.a)(Object(d.a)({},e),{},{lines:[].concat(Object(o.a)(e.lines),[{name:t.lineName,cells:t.lineCells}])});case D:return Object(d.a)(Object(d.a)({},e),{},{lines:Object(o.a)(e.lines.filter((function(e,n){return n!==t.index})))});default:return e}},R=["Time","T"],_=[2,3,4,5,6,7,8,9,10,11];_.forEach((function(e){return R.push("B"+e)})),_.forEach((function(e){return R.push("C"+e)})),_.forEach((function(e){return R.push("D"+e)})),_.forEach((function(e){return R.push("E"+e)})),_.forEach((function(e){return R.push("F"+e)})),_.forEach((function(e){return R.push("G"+e)}));var G=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(""),l=Object(s.a)(c,2),o=l[0],d=l[1],v=Object(r.useState)([]),T=Object(s.a)(v,2),k=T[0],C=T[1],E=Object(r.useState)([]),L=Object(s.a)(E,2),S=L[0],w=L[1],I=Object(r.useState)("Title"),A=Object(s.a)(I,2),_=A[0],G=A[1],H=Object(r.useState)(""),J=Object(s.a)(H,2),M=J[0],W=J[1],V=Object(r.useReducer)(P,{resultText:"",data:[],lines:[]}),q=Object(s.a)(V,2),U=q[0],X=q[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("data");if(e){var t=JSON.parse(e);G(t.title),X({type:N,state:t.state})}}),[]);var Y=function(e){var t=e.split(":"),n=parseInt(t[0])+parseInt(t[1])/60+parseInt(t[2])/3600;return console.log(t,n),n};return Object(a.jsxs)("div",{style:{margin:20},children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[Object(a.jsx)(u.a,{variant:"h6",children:"Anat's Graph"}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){var e={title:_,state:U};window.localStorage.setItem("data",JSON.stringify(e))},children:"Save"})]}),M?Object(a.jsx)(h.a,{variant:"filled",severity:"warning",onClose:function(){return W("")},children:M}):null,Object(a.jsxs)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:"#ccc"},children:[Object(a.jsx)(u.a,{children:"Step 1) Copy the result table including headers"}),Object(a.jsx)("pre",{children:Object(a.jsx)(j.a,{multiline:!0,variant:"outlined",margin:"dense",fullWidth:!0,label:"Result Table",rows:10,value:U.resultText,onChange:function(e){return X({type:z,resultText:e.target.value})},InputLabelProps:{shrink:!0},inputProps:{style:{fontSize:12}}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"primary",onClick:function(){if(""!==U.resultText){var e=U.resultText.split("\n");if(e[0].startsWith("Time")){for(var t=[],n=function(n){var a={};e[n].split("\t").forEach((function(e,t){a[R[t]]=e})),t.push(a)},a=1;a<e.length;a++)n(a);console.log("data",t),X({type:B,data:t})}else W("The copied table should start with 'Time'")}else W("Forgot to copy the result?")},children:"Read Table"}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){return i(!n)},style:{marginLeft:16},children:n?"Hide Table":"Show Table"})]}),n?Object(a.jsx)(x.a,{size:"small",children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(g.a,{children:R.map((function(e,t){return Object(a.jsx)(p.a,{children:e},e)}))}),Object(a.jsx)(O.a,{children:U.data.map((function(e,t){return Object(a.jsx)(g.a,{children:Object.values(e).map((function(e,n){return Object(a.jsx)(p.a,{children:e},t+"."+n)}))},t)}))})]})}):null]}),Object(a.jsxs)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:"#ccc"},children:[Object(a.jsx)(u.a,{children:"Step 2) Add Lines"}),Object(a.jsx)("br",{}),[" ","A","B","C","D","E","F","G","H"].map((function(e){return" "===e?Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{style:{width:70,height:40},children:"."}),[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return Object(a.jsx)("div",{style:{width:70,height:40,textAlign:"center"},children:e},e)}))]},e):Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{style:{width:70,height:40},children:e}),[1,2,3,4,5,6,7,8,9,10,11,12].map((function(t){return Object(a.jsx)("div",{style:{width:70,height:40},children:"A"!==e&&"H"!==e&&1!==t&&12!==t?Object(a.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return function(e,t){C(""===k?e+t:k+","+e+t)}(e,t)},children:e+t}):null},t)}))]},e)})),Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Line Name",value:o,onChange:function(e){return d(e.target.value)},InputLabelProps:{shrink:!0}}),Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Line Cells",value:k,onChange:function(e){return C(e.target.value)},InputLabelProps:{shrink:!0},style:{marginLeft:16}}),Object(a.jsx)(b.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){X({type:"ADD_LINE",lineName:o,lineCells:k}),d(""),C("")},style:{marginLeft:16,marginTop:9},children:"Add Line"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(u.a,{children:"Selected Lines:"}),U.lines.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(u.a,{style:{width:30},children:t+1}),Object(a.jsx)(u.a,{style:{width:200},children:e.name}),Object(a.jsx)(u.a,{style:{width:200},children:e.cells}),Object(a.jsx)(b.a,{size:"small",color:"secondary",startIcon:Object(a.jsx)(y.a,{}),onClick:function(){return X({type:D,index:t})},children:"Remove"})]},e.name)}))]}),Object(a.jsx)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:"#ccc"},children:Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(u.a,{children:"Step 3) "}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){var e=[];U.lines.forEach((function(t){var n=function(e){console.log(e);var t=e.cells.split(",").filter((function(e){return""!==e})),n={name:e.name,data:[]};return U.data.forEach((function(e){var a=0,r=0;t.forEach((function(t){return a+=parseFloat(e[t])}));var i=a/t.length;t.forEach((function(t){var n=parseFloat(e[t]);r+=(n-i)*(n-i)}));var c=Math.sqrt(r/t.length);n.data.push({x:Y(e.Time),y:i,errorY:c})})),console.log(n),n}(t);e.push(n)})),w(e)},style:{marginLeft:16,marginTop:9},children:"Generate Graph"}),Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Graph Title",value:_,onChange:function(e){return G(e.target.value)},InputLabelProps:{shrink:!0},style:{marginLeft:16}})]})}),Object(a.jsx)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:"#ccc"},children:Object(a.jsx)(F,{data:S,title:_})}),Object(a.jsx)("br",{})]})},H=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(G,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,391)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};l.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root")),J()}},[[320,1,2]]]);
//# sourceMappingURL=main.f6575d42.chunk.js.map