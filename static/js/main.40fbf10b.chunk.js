(this["webpackJsonpanat-graph"]=this["webpackJsonpanat-graph"]||[]).push([[0],{212:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(1),i=n.n(r),l=n(20),c=n.n(l),s=(n(212),n(24)),o=n(34),d=n(50),u=n(327),j=n(384),b=n(374),h=n(388),f=n(375),x=n(377),O=n(381),p=n(380),g=n(378),m=n(379),v=n(382),y=n(389),T=n(194),C=n.n(T),k=(n(213),n(387)),E=n(393),S=n(390),L=n(392),w=n(391),I=n(383),A=n(394),z=n(396),F=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],B=function(e){var t=e.data,n=e.width,r=void 0===n?600:n,i=e.height,l=void 0===i?400:i,c=e.title,s=void 0===c?"graph":c,o=e.textColor,d=void 0===o?"black":o,u=e.yLabel,j=void 0===u?"Fluorescence":u,b=e.xLabel,h=void 0===b?"Time [Hours]":b,f=e.showErrors,x=[];if(t[0])for(var O=t[0].data.reduce((function(e,t){return t.x>e?t.x:e}),0),p=0;p<O+2;p+=5)x.push(p);return Object(a.jsx)("div",{children:Object(a.jsxs)(k.a,{width:r,height:l,standalone:!0,crossAxis:!1,theme:E.a.material,scale:{x:"linear"},title:s,padding:{top:50,right:30,bottom:60,left:80},containerComponent:Object(a.jsx)(S.a,{}),children:[Object(a.jsx)(L.a,{x:25,y:24,text:s,style:{fill:d,fontFamily:"inherit",fontSize:"16px",fontWeight:"bold"}}),Object(a.jsx)(w.a,{x:80,y:50,orientation:"vertical",gutter:20,style:{border:{stroke:d},title:{fontSize:20},labels:{fill:d}},data:t.map((function(e,t){return{name:e.name,symbol:{fill:e.color?e.color:F[t%F.length]}}})),itemsPerRow:5}),t.map((function(e,t){return Object(a.jsx)(I.a,{data:e.data,style:{data:{stroke:e.color?e.color:F[t%F.length]}}},e.name)})),f?t.map((function(e,t){return Object(a.jsx)(A.a,{data:e.data,style:{data:{stroke:e.color?e.color:F[t%F.length]}}},e.name)})):null,Object(a.jsx)(z.a,{theme:E.a.material,label:h,crossAxis:!1,tickValues:x,style:{axis:{stroke:d},grid:{stroke:"gray"},axisLabel:{padding:30,fill:d},tickLabels:{fill:d}}}),Object(a.jsx)(z.a,{dependentAxis:!0,crossAxis:!1,label:j,theme:E.a.material,style:{axis:{stroke:d},grid:{stroke:"gray"},axisLabel:{padding:60,fill:d},tickLabels:{fill:d}}})]})})},D="#fff",N="SET_RESULT_TEXT",P="SET_DATA",R="REMOVE_LINE",_="SET_STATE",G=function(e,t){switch(t.type){case _:return t.state;case N:return Object(d.a)(Object(d.a)({},e),{},{resultText:t.resultText});case P:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case"ADD_LINE":return Object(d.a)(Object(d.a)({},e),{},{lines:[].concat(Object(o.a)(e.lines),[{name:t.lineName,cells:t.lineCells}])});case R:return Object(d.a)(Object(d.a)({},e),{},{lines:Object(o.a)(e.lines.filter((function(e,n){return n!==t.index})))});default:return e}},H=["Time","T"],J=[2,3,4,5,6,7,8,9,10,11];J.forEach((function(e){return H.push("B"+e)})),J.forEach((function(e){return H.push("C"+e)})),J.forEach((function(e){return H.push("D"+e)})),J.forEach((function(e){return H.push("E"+e)})),J.forEach((function(e){return H.push("F"+e)})),J.forEach((function(e){return H.push("G"+e)}));var W=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],l=Object(r.useState)(""),c=Object(s.a)(l,2),o=c[0],d=c[1],T=Object(r.useState)([]),k=Object(s.a)(T,2),E=k[0],S=k[1],L=Object(r.useState)([]),w=Object(s.a)(L,2),I=w[0],A=w[1],z=Object(r.useState)("Title"),F=Object(s.a)(z,2),J=F[0],W=F[1],M=Object(r.useState)(!0),V=Object(s.a)(M,2),q=V[0],U=V[1],X=Object(r.useState)(""),Y=Object(s.a)(X,2),K=Y[0],Q=Y[1],Z=Object(r.useReducer)(G,{resultText:"",data:[],lines:[]}),$=Object(s.a)(Z,2),ee=$[0],te=$[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("data");if(e){var t=JSON.parse(e);W(t.title),te({type:_,state:t.state})}}),[]);var ne=function(e){var t=e.split(":"),n=parseInt(t[0])+parseInt(t[1])/60+parseInt(t[2])/3600;return console.log(t,n),n};return Object(a.jsxs)("div",{style:{margin:20},children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[Object(a.jsx)(u.a,{variant:"h6",children:"Anat's Graph"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(){window.localStorage.setItem("data",""),W(""),d(""),S(""),A([]),Q(""),te({type:_,state:{resultText:"",data:[],lines:[]}})},children:"Clear Data"}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){var e={title:J,state:ee};window.localStorage.setItem("data",JSON.stringify(e))},style:{marginLeft:16},children:"Save"})]})]}),K?Object(a.jsx)(h.a,{variant:"filled",severity:"warning",onClose:function(){return Q("")},children:K}):null,Object(a.jsxs)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:D},children:[Object(a.jsx)(u.a,{children:"Step 1) Copy the result table including headers"}),Object(a.jsx)("pre",{children:Object(a.jsx)(j.a,{multiline:!0,variant:"outlined",margin:"dense",fullWidth:!0,label:"Result Table",rows:10,value:ee.resultText,onChange:function(e){return te({type:N,resultText:e.target.value})},InputLabelProps:{shrink:!0},inputProps:{style:{fontSize:12}}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"primary",onClick:function(){if(""!==ee.resultText){var e=ee.resultText.split("\n");if(e[0].startsWith("Time")){for(var t=[],n=1;n<e.length;n++)""!==e[n]&&e[n].length>10&&function(){var a={};e[n].split("\t").forEach((function(e,t){a[H[t]]=e})),t.push(a)}();console.log("data",t),te({type:P,data:t})}else Q("The copied table should start with 'Time'")}else Q("Forgot to copy the result?")},children:"Read Table"}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){return i(!n)},style:{marginLeft:16},children:n?"Hide Table":"Show Table"})]}),n?Object(a.jsxs)(x.a,{size:"small",children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(m.a,{children:H.map((function(e,t){return Object(a.jsx)(p.a,{children:e},e)}))})}),Object(a.jsx)(O.a,{children:ee.data.map((function(e,t){return Object(a.jsx)(m.a,{children:Object.values(e).map((function(e,n){return Object(a.jsx)(p.a,{children:e},t+"."+n)}))},t)}))})]}):null]}),Object(a.jsxs)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:D},children:[Object(a.jsx)(u.a,{children:"Step 2) Add Lines"}),Object(a.jsx)("br",{}),[" ","A","B","C","D","E","F","G","H"].map((function(e){return" "===e?Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{style:{width:70,height:40},children:"."}),[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return Object(a.jsx)("div",{style:{width:70,height:40,textAlign:"center"},children:e},e)}))]},e):Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{style:{width:70,height:40},children:e}),[1,2,3,4,5,6,7,8,9,10,11,12].map((function(t){return Object(a.jsx)("div",{style:{width:70,height:40},children:"A"!==e&&"H"!==e&&1!==t&&12!==t?Object(a.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return function(e,t){var n="";(n=""===E?e+t:E+","+e+t).startsWith(",")&&(n=n.substring(1)),S(n)}(e,t)},children:e+t}):null},t)}))]},e)})),Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Line Name",value:o,onChange:function(e){return d(e.target.value)},InputLabelProps:{shrink:!0}}),Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Line Cells",value:E,onChange:function(e){return S(e.target.value)},InputLabelProps:{shrink:!0},style:{marginLeft:16}}),Object(a.jsx)(b.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){te({type:"ADD_LINE",lineName:o,lineCells:E}),d(""),S("")},style:{marginLeft:16,marginTop:9},children:"Add Line"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(u.a,{children:"Selected Lines:"}),ee.lines.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(u.a,{style:{width:30},children:t+1}),Object(a.jsx)(u.a,{style:{width:200},children:e.name}),Object(a.jsx)(u.a,{style:{width:200},children:e.cells}),Object(a.jsx)(b.a,{size:"small",color:"secondary",startIcon:Object(a.jsx)(C.a,{}),onClick:function(){return te({type:R,index:t})},children:"Remove"})]},e.name)}))]}),Object(a.jsx)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:D},children:Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(u.a,{children:"Step 3) "}),Object(a.jsx)(b.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){var e=[];ee.lines.forEach((function(t){var n=function(e){console.log(e);var t=e.cells.split(",").filter((function(e){return""!==e})),n={name:e.name,data:[]};return ee.data.forEach((function(e){var a=0,r=0;t.forEach((function(t){return a+=parseFloat(e[t])}));var i=a/t.length;t.forEach((function(t){var n=parseFloat(e[t]);r+=(n-i)*(n-i)}));var l=Math.sqrt(r/t.length);n.data.push({x:ne(e.Time),y:i,errorY:l})})),console.log(n),n}(t);e.push(n)})),A(e)},style:{marginLeft:16,marginTop:9},children:"Generate Graph"}),Object(a.jsx)(j.a,{variant:"outlined",margin:"dense",label:"Graph Title",value:J,onChange:function(e){return W(e.target.value)},InputLabelProps:{shrink:!0},style:{marginLeft:16}}),Object(a.jsx)(v.a,{control:Object(a.jsx)(y.a,{checked:q,onChange:function(){return U(!q)},color:"primary",style:{marginLeft:16}}),label:"Show Errors"})]})}),Object(a.jsx)(f.a,{style:{padding:20,marginBottom:20,backgroundColor:D},children:Object(a.jsx)(B,{data:I,title:J,showErrors:q})}),Object(a.jsx)("br",{})]})},M=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(W,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),i(e),l(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root")),V()}},[[326,1,2]]]);
//# sourceMappingURL=main.40fbf10b.chunk.js.map